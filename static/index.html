<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SQL Ã–ÄŸrenme Platformu</title>
  <style>
    :root {
      --bg: #ffffff; --text: #222; --box: #f9f9f9;
      --border: #ccc; --primary: #3498db;
    }
    body.dark {
      --bg: #121212; --text: #eee; --box: #1e1e1e;
      --border: #444; --primary: #00b894;
    }
    body {
      margin: 0; display: flex; font-family: 'Segoe UI', sans-serif;
      background: var(--bg); color: var(--text);
    }
    .sidebar {
      width: 30%; background: var(--box); padding: 20px;
      border-right: 1px solid var(--border); height: 100vh;
      overflow-y: auto; position: sticky; top: 0;
    }
    .main {
      flex: 1; padding: 20px;
    }
    .sticky-top {
      position: sticky; top: 0; z-index: 1000;
      background: var(--bg); padding: 10px 0; border-bottom: 1px solid var(--border);
    }
    .header {
      font-size: 24px; font-weight: bold; margin-bottom: 10px;
    }
    .level-buttons {
      display: flex; gap: 10px; margin-bottom: 10px;
    }
    .level-buttons button {
      flex: 1;
      padding: 10px; font-weight: bold;
      border: none; border-radius: 25px;
      cursor: pointer; background: transparent;
      border: 2px solid var(--primary); color: var(--primary);
      transition: 0.3s;
    }
    .level-buttons button:hover {
      background: var(--primary); color: white;
    }
    .theme-toggle {
      position: absolute; top: 20px; right: 20px;
      background: none; border: 2px solid var(--primary);
      color: var(--primary); padding: 6px 10px; border-radius: 20px;
      cursor: pointer; font-weight: bold;
    }
    .score {
      font-size: 18px; margin-top: 10px;
    }
    .code-block {
      background: #272822; color: #f8f8f2;
      padding: 12px; border-radius: 6px;
      font-family: monospace; white-space: pre-wrap;
      overflow-x: auto; margin: 10px 0;
    }
    textarea {
  background: #1e1e1e;
  color: #f8f8f2;
  font-family: 'Courier New', monospace;
  box-shadow: inset 0 0 5px #000;
  border: 1px solid var(--border);

      width: 100%; padding: 8px;
      font-family: monospace; font-size: 14px;
      background: var(--box); color: var(--text);
      border: 1px solid var(--border); border-radius: 4px;
    }
    button.check {
      margin-top: 8px; background: var(--primary); color: white;
      padding: 6px 12px; border: none; border-radius: 4px;
    }
    .correct { color: limegreen; font-weight: bold; margin-left: 10px; }
    .wrong { color: red; font-weight: bold; margin-left: 10px; }
    table {
      border-collapse: collapse; width: 100%;
      font-size: 13px; margin-bottom: 20px;
    }
    th, td {
      border: 1px solid var(--border);
      padding: 6px; text-align: left;
    }
    th {
      background-color: var(--primary); color: white;
    }
    .table-scroll {
  overflow-x: auto;
  max-width: 100%;
 overflow-x: auto; }
  </style>
</head>
<body>
<div class="theme-toggle" style="z-index:9999;" onclick="toggleTheme()">ğŸŒ™/â˜€ï¸</div>

<div class="sidebar">
  <h2>ğŸ“ Tablolar</h2>
  <div class="table-scroll">
    <h4>customers</h4>
    <div class="table-scroll"><table><tr><th>customer_id</th><th>name</th><th>income</th><th>credit_score</th><th>city</th><th>birth_year</th><th>marital_status</th><th>job_title</th></tr>
      <tr><td>1</td><td>Ahmet Yilmaz</td><td>5000</td><td>650</td><td>Istanbul</td><td>1985</td><td>married</td><td>Engineer</td></tr>
      <tr><td>2</td><td>Ayse Demir</td><td>8000</td><td>720</td><td>Ankara</td><td>1990</td><td>single</td><td>Doctor</td></tr>
      <tr><td>3</td><td>Can Kaya</td><td>3000</td><td>580</td><td>Izmir</td><td>1995</td><td>single</td><td>Student</td></tr>
    </table></div>
    <h4>loans</h4>
    <table><tr><th>loan_id</th><th>customer_id</th><th>amount</th><th>status</th></tr>
      <tr><td>1</td><td>1</td><td>10000</td><td>paid</td></tr>
      <tr><td>2</td><td>2</td><td>15000</td><td>unpaid</td></tr>
    </table>
    <h4>defaults</h4>
    <table><tr><th>default_id</th><th>customer_id</th><th>reason</th></tr>
      <tr><td>1</td><td>2</td><td>missed payments</td></tr>
    </table>
    <h4>payments</h4>
    <table><tr><th>payment_id</th><th>loan_id</th><th>amount_paid</th></tr>
      <tr><td>1</td><td>1</td><td>3000</td></tr>
    </table>
  </div>
</div>

<div class="main">
  <div class="sticky-top">
    <div class="header">ğŸ“Š SQL Ã–ÄŸrenme Platformu</div>
    <div class="level-buttons">
      <button onclick="loadLevel('temel')">ğŸŸ¢ Temel</button>
      <button onclick="loadLevel('orta')">ğŸŸ¡ Orta</button>
      <button onclick="loadLevel('ileri')">ğŸ”´ Ä°leri</button>
    </div>
    <div class="score">âœ… DoÄŸru SayÄ±sÄ±: <span id="score">0</span></div>
  </div>
  <div id="questions" style="margin-top: 20px;"></div>
</div>

<script>
const allQuestions = {
  "temel": [
   {
    "title": "1. SELECT ile Veri Ã‡ekme",
    "explanation": "`SELECT` komutu, SQL'de en temel komuttur ve veritabanÄ±ndaki tablolardan bilgi Ã§ekmek iÃ§in kullanÄ±lÄ±r. TÃ¼m sÃ¼tunlarÄ± almak iÃ§in `*` kullanÄ±lÄ±r. Belirli sÃ¼tunlar Ã§ekilmek istenirse, sÃ¼tun adlarÄ± virgÃ¼lle ayrÄ±larak yazÄ±lÄ±r.",
    "example": "SELECT * FROM customers;\nSELECT name, city FROM customers;",
    "question": "customers tablosundan tÃ¼m sÃ¼tunlarÄ± getirin.",
    "answer": "SELECT * FROM customers;",
    "output": "<table><tr><th>customer_id</th><th>name</th><th>income</th><th>credit_score</th><th>city</th><th>birth_year</th><th>marital_status</th><th>job_title</th></tr><tr><td>1</td><td>Ahmet Yilmaz</td><td>5000</td><td>650</td><td>Istanbul</td><td>1985</td><td>married</td><td>Engineer</td></tr></table>"
  },
  {
    "title": "2. FROM ile Tablo SeÃ§me",
    "explanation": "`FROM`, verinin hangi tablodan alÄ±nacaÄŸÄ±nÄ± belirtir. Her `SELECT` komutunun `FROM` ile birlikte bir tabloya yÃ¶neltilmesi gerekir.",
    "example": "SELECT * FROM loans;",
    "question": "loans tablosundaki tÃ¼m kayÄ±tlarÄ± getiriniz.",
    "answer": "SELECT * FROM loans;",
    "output": "<table><tr><th>loan_id</th><th>customer_id</th><th>amount</th><th>status</th></tr><tr><td>1</td><td>1</td><td>10000</td><td>paid</td></tr></table>"
  },
  {
    "title": "3. WHERE ile Filtreleme",
    "explanation": "`WHERE`, belirli bir koÅŸulu saÄŸlayan verileri seÃ§mek iÃ§in kullanÄ±lÄ±r. SayÄ±sal karÅŸÄ±laÅŸtÄ±rmalarda =, >, <, >=, <= gibi operatÃ¶rler; metinler iÃ§in = ve LIKE kullanÄ±lÄ±r.",
    "example": "SELECT * FROM customers WHERE income > 5000;\nSELECT * FROM customers WHERE city = 'Istanbul';",
    "question": "income deÄŸeri 6000'den fazla olan mÃ¼ÅŸterilerin tÃ¼m bilgilerini listeleyin.",
    "answer": "SELECT * FROM customers WHERE income > 6000;",
    "output": "<table><tr><th>name</th><th>income</th></tr><tr><td>Ayse Demir</td><td>8000</td></tr></table>"
  },
  {
    "title": "4. ORDER BY ile SÄ±ralama",
    "explanation": "`ORDER BY`, sonuÃ§larÄ± sÄ±ralamak iÃ§in kullanÄ±lÄ±r. VarsayÄ±lan sÄ±ralama artan (ASC) ÅŸekildedir. Azalan sÄ±ralama iÃ§in `DESC` kullanÄ±lÄ±r.",
    "example": "SELECT * FROM customers ORDER BY income DESC;",
    "question": "Kredi skoru en yÃ¼ksekten en dÃ¼ÅŸÃ¼ÄŸe sÄ±ralÄ± ÅŸekilde tÃ¼m mÃ¼ÅŸterileri listeleyin.",
    "answer": "SELECT * FROM customers ORDER BY credit_score DESC;",
    "output": "<table><tr><th>name</th><th>credit_score</th></tr><tr><td>Ayse Demir</td><td>720</td></tr><tr><td>Ahmet Yilmaz</td><td>650</td></tr></table>"
  },
  {
    "title": "5. LIMIT ile Veri SayÄ±sÄ±nÄ± SÄ±nÄ±rlama",
    "explanation": "`LIMIT`, sonuÃ§ kÃ¼mesinden kaÃ§ tane satÄ±r gÃ¶rÃ¼ntÃ¼leneceÄŸini belirler. Ä°lk birkaÃ§ veriyi gÃ¶rmek iÃ§in sÄ±klÄ±kla kullanÄ±lÄ±r.",
    "example": "SELECT * FROM customers LIMIT 3;",
    "question": "customers tablosundaki ilk 3 mÃ¼ÅŸteriyi listeleyin.",
    "answer": "SELECT * FROM customers LIMIT 3;",
    "output": "<table><tr><th>name</th></tr><tr><td>Ahmet Yilmaz</td></tr><tr><td>Ayse Demir</td></tr><tr><td>Can Kaya</td></tr></table>"
  },
  {
    "title": "6. DISTINCT ile Benzersiz DeÄŸerleri Alma",
    "explanation": "`DISTINCT` komutu, tekrarlanan deÄŸerleri sadece bir kere gÃ¶sterir. Genellikle bir sÃ¼tundaki benzersiz girdileri gÃ¶rmek iÃ§in kullanÄ±lÄ±r.",
    "example": "SELECT DISTINCT city FROM customers;",
    "question": "customers tablosundaki farklÄ± ÅŸehirleri listeleyin.",
    "answer": "SELECT DISTINCT city FROM customers;",
    "output": "<table><tr><th>city</th></tr><tr><td>Istanbul</td></tr><tr><td>Ankara</td></tr><tr><td>Izmir</td></tr></table>"
  },
  {
    "title": "7. AS ile Takma Ad (Alias)",
    "explanation": "`AS` ile sÃ¼tun veya tablo isimlerine takma ad verilebilir. Bu, Ã¶zellikle daha okunabilir sonuÃ§lar elde etmek iÃ§in kullanÄ±lÄ±r.",
    "example": "SELECT name AS isim, income AS gelir FROM customers;",
    "question": "name sÃ¼tununa 'mÃ¼ÅŸteri_ismi' takma adÄ± vererek listeleyin.",
    "answer": "SELECT name AS mÃ¼ÅŸteri_ismi FROM customers;",
    "output": "<table><tr><th>mÃ¼ÅŸteri_ismi</th></tr><tr><td>Ahmet Yilmaz</td></tr><tr><td>Ayse Demir</td></tr></table>"
  },
  {
    "title": "8. Aritmetik Ä°ÅŸlemler",
    "explanation": "SQL, temel matematiksel iÅŸlemleri destekler. Bunlar: toplama (+), Ã§Ä±karma (-), Ã§arpma (*), bÃ¶lme (/), mod alma (%).",
    "example": "SELECT income, income * 12 AS yillik_gelir FROM customers;",
    "question": "Gelirleri 12 ile Ã§arpÄ±p yÄ±llÄ±k gelir sÃ¼tunu oluÅŸturun.",
    "answer": "SELECT income * 12 AS yillik_gelir FROM customers;",
    "output": "<table><tr><th>yillik_gelir</th></tr><tr><td>60000</td></tr><tr><td>96000</td></tr></table>"
  },
  {
    "title": "9. NULL ve IS NULL KullanÄ±mÄ±",
    "explanation": "`NULL`, bilinmeyen ya da boÅŸ veri anlamÄ±na gelir. `IS NULL` ile boÅŸ olanlar, `IS NOT NULL` ile dolu olanlar filtrelenebilir.",
    "example": "SELECT * FROM customers WHERE job_title IS NULL;",
    "question": "Meslek bilgisi girilmemiÅŸ olan mÃ¼ÅŸterileri listeleyin.",
    "answer": "SELECT * FROM customers WHERE job_title IS NULL;",
    "output": "<table><tr><th>customer_id</th><th>name</th></tr></table>"
  }
  ],
  "orta": [
    {
      "title": "1. JOIN ile Tablo Birle\u015ftirme",
      "explanation": "`JOIN`, iki tabloyu ortak s\u00fctun \u00fczerinden birle\u015ftirmek i\u00e7in kullan\u0131l\u0131r. `INNER JOIN` yaln\u0131zca e\u015fle\u015fen kay\u0131tlar\u0131 getirir.",
      "example": "SELECT name, amount FROM customers JOIN loans ON customers.customer_id = loans.customer_id;",
      "question": "customers ve loans tablolar\u0131n\u0131 birle\u015ftirip m\u00fc\u015fteri adlar\u0131n\u0131 ve kredi miktarlar\u0131n\u0131 listeleyin.",
      "answer": "SELECT name, amount FROM customers JOIN loans ON customers.customer_id = loans.customer_id;",
      "output": "<table><tr><th>name</th><th>amount</th></tr><tr><td>Ahmet Yilmaz</td><td>10000</td></tr><tr><td>Ayse Demir</td><td>15000</td></tr></table>"
    },
    {
      "title": "2. GROUP BY ile Gruplama",
      "explanation": "`GROUP BY` ile belirli bir s\u00fctuna g\u00f6re verileri gruplayabiliriz. Genellikle COUNT, SUM gibi fonksiyonlarla birlikte kullan\u0131l\u0131r.",
      "example": "SELECT city, COUNT(*) FROM customers GROUP BY city;",
      "question": "Her \u015fehirde ka\u00e7 m\u00fc\u015fteri oldu\u011funu listeleyin.",
      "answer": "SELECT city, COUNT(*) FROM customers GROUP BY city;",
      "output": "<table><tr><th>city</th><th>COUNT(*)</th></tr><tr><td>Istanbul</td><td>1</td></tr><tr><td>Ankara</td><td>1</td></tr><tr><td>Izmir</td><td>1</td></tr></table>"
    },
    {
      "title": "3. IN, BETWEEN, LIKE ile Geli\u015fmi\u015f Filtreleme",
      "explanation": "`IN` belirli bir listede olanlar\u0131 se\u00e7er. `BETWEEN` iki de\u011fer aras\u0131 i\u00e7in kullan\u0131l\u0131r. `LIKE` benzer metinleri e\u015fle\u015ftirir.",
      "example": "SELECT * FROM customers WHERE name LIKE 'A%';",
      "question": "Ad\u0131 'A' harfiyle ba\u015flayan m\u00fc\u015fterileri listeleyin.",
      "answer": "SELECT name FROM customers WHERE name LIKE 'A%';",
      "output": "<table><tr><th>name</th></tr><tr><td>Ahmet Yilmaz</td></tr><tr><td>Ayse Demir</td></tr></table>"
    }
  ],
  "ileri": [
    {
      "title": "1. WINDOW FUNCTION - ROW_NUMBER",
      "explanation": "`ROW_NUMBER()` her sat\u0131ra s\u0131ral\u0131 bir numara verir. Genellikle bir s\u0131ralama \u00f6l\u00e7\u00fct\u00fc ile birlikte kullan\u0131l\u0131r.",
      "example": "SELECT name, ROW_NUMBER() OVER (ORDER BY income DESC) FROM customers;",
      "question": "Gelire g\u00f6re azalan s\u0131ralamada her m\u00fc\u015fteriye s\u0131ra numaras\u0131 verin.",
      "answer": "SELECT name, ROW_NUMBER() OVER (ORDER BY income DESC) FROM customers;",
      "output": "<table><tr><th>name</th><th>row_number</th></tr><tr><td>Ayse Demir</td><td>1</td></tr><tr><td>Ahmet Yilmaz</td><td>2</td></tr><tr><td>Can Kaya</td><td>3</td></tr></table>"
    },
    {
      "title": "2. EXISTS ile Alt Sorgular",
      "explanation": "`EXISTS`, alt sorguda en az bir kay\u0131t varsa `TRUE` d\u00f6ner. Belirli bir ko\u015fula ba\u011fl\u0131 kontrol sa\u011flar.",
      "example": "SELECT name FROM customers WHERE EXISTS (SELECT * FROM loans WHERE customers.customer_id = loans.customer_id);",
      "question": "Herhangi bir kredisi olan m\u00fc\u015fterileri listeleyin.",
      "answer": "SELECT name FROM customers WHERE EXISTS (SELECT * FROM loans WHERE customers.customer_id = loans.customer_id);",
      "output": "<table><tr><th>name</th></tr><tr><td>Ahmet Yilmaz</td></tr><tr><td>Ayse Demir</td></tr></table>"
    },
    {
      "title": "3. CTE - Ge\u00e7ici Tablo (WITH)",
      "explanation": "`WITH` ifadesi, ge\u00e7ici bir adland\u0131r\u0131lm\u0131\u015f tablo olu\u015fturarak okunabilirli\u011fi art\u0131r\u0131r. Karma\u015f\u0131k sorgular bu \u015fekilde sadele\u015fir.",
      "example": "WITH high_income AS (SELECT * FROM customers WHERE income > 6000) SELECT name FROM high_income;",
      "question": "Geliri 6000'den y\u00fcksek olanlar\u0131 WITH ifadesiyle se\u00e7ip sadece adlar\u0131n\u0131 listeleyin.",
      "answer": "WITH high_income AS (SELECT * FROM customers WHERE income > 6000) SELECT name FROM high_income;",
      "output": "<table><tr><th>name</th></tr><tr><td>Ayse Demir</td></tr></table>"
    }
  ]
};

let score = 0;

function loadLevel(level) {
  const qDiv = document.getElementById("questions");
  qDiv.innerHTML = "";
  score = 0;
  document.getElementById("score").innerText = score;

  const questions = allQuestions[level];

  questions.forEach((q, i) => {
    const container = document.createElement("div");
    container.innerHTML = `
      <h3>${q.title}</h3>
      <p><strong>Konu:</strong> ${q.explanation}</p>
      <p><strong>Ã–rnek:</strong></p>
      <pre class="code-block">${q.example}</pre>
      <p><strong>Soru:</strong> ${q.question}</p>
      <textarea id="answer-${i}"></textarea>
      <button class="check" onclick="checkAnswer('${level}', ${i})">CevabÄ± Kontrol Et</button>
      <span id="result-${i}"></span>
      <div id="output-${i}"></div>
      <hr>
    `;
    qDiv.appendChild(container);
  });
}

function checkAnswer(level, i) {
  const input = document.getElementById(`answer-${i}`).value.trim().toUpperCase();
  const correct = allQuestions[level][i].answer.trim().toUpperCase();
  const resultSpan = document.getElementById(`result-${i}`);
  const outputDiv = document.getElementById(`output-${i}`);

  if (input === correct) {
    resultSpan.innerText = 'âœ”ï¸';
    resultSpan.className = 'correct';
    outputDiv.innerHTML = `<p><strong>âœ”ï¸ DoÄŸru! Beklenen SonuÃ§:</strong></p>${allQuestions[level][i].output}`;
    score++;
    document.getElementById("score").innerText = score;
  } else {
    resultSpan.innerText = 'âŒ';
    resultSpan.className = 'wrong';
    outputDiv.innerHTML = '';
  }
}

function toggleTheme() {
  document.body.classList.toggle("dark");
}

window.onload = () => loadLevel('temel');
</script>
</body>
</html>

