<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>SQL Öğrenme Uygulaması</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        table { border-collapse: collapse; width: 100%; margin-bottom: 30px; font-size: 14px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
        textarea { width: 100%; height: 50px; }
        .correct { color: green; font-weight: bold; }
        .wrong { color: red; font-weight: bold; }
        .score { font-size: 20px; margin-bottom: 20px; }
        .small-table { width: auto; margin-top: 10px; }
    </style>
</head>
<body>

<h1>📊 SQL Öğren - Bankacılık Verisi Üzerinden</h1>

<div class="score">✅ Doğru Sayısı: <span id="score">0</span> / 10</div>

<h2>📁 Veri Tabloları</h2>

<div style="display: flex; gap: 40px; align-items: flex-start;">
  <div>
    <h4>customers</h4>
    <table class="small-table">
        <tr><th>customer_id</th><th>name</th><th>income</th><th>credit_score</th><th>city</th></tr>
        <tr><td>1</td><td>Ahmet Yilmaz</td><td>5000</td><td>650</td><td>Istanbul</td></tr>
        <tr><td>2</td><td>Ayse Demir</td><td>8000</td><td>720</td><td>Ankara</td></tr>
        <tr><td>3</td><td>Can Kaya</td><td>3000</td><td>580</td><td>Izmir</td></tr>
    </table>
  </div>
  <div>
    <h4>loans</h4>
    <table class="small-table">
        <tr><th>loan_id</th><th>customer_id</th><th>amount</th><th>status</th></tr>
        <tr><td>1</td><td>1</td><td>10000</td><td>paid</td></tr>
        <tr><td>2</td><td>2</td><td>15000</td><td>unpaid</td></tr>
    </table>
  </div>
  <div>
    <h4>defaults</h4>
    <table class="small-table">
        <tr><th>default_id</th><th>customer_id</th><th>reason</th></tr>
        <tr><td>1</td><td>2</td><td>missed payments</td></tr>
    </table>
  </div>
  <div>
    <h4>payments</h4>
    <table class="small-table">
        <tr><th>payment_id</th><th>loan_id</th><th>amount_paid</th></tr>
        <tr><td>1</td><td>1</td><td>3000</td></tr>
    </table>
  </div>
</div>

<h2>🧠 SQL Soru Seti</h2>
<div id="questions"></div>

<script>
const questions = [
  {
    title: "1. SELECT Temelleri",
    explanation: "SELECT komutu veritabanından veri çekmek için kullanılır.",
    example: "SELECT income FROM customers;",
    question: "Tüm müşterilerin doğum yılını listeleyen SQL komutunu yazın.",
    answer: "SELECT birth_year FROM customers;",
    output: `<table class='small-table'><tr><th>birth_year</th></tr><tr><td>1985</td></tr><tr><td>1990</td></tr><tr><td>1995</td></tr></table>`
  },
  {
    title: "2. WHERE ile Filtreleme",
    explanation: "WHERE koşulu belirli verileri süzmek için kullanılır.",
    example: "SELECT * FROM customers WHERE credit_score > 600;",
    question: "Kredi skoru 700'ün üzerinde olan müşterilerin adlarını listeleyin.",
    answer: "SELECT name FROM customers WHERE credit_score > 700;",
    output: `<table class='small-table'><tr><th>name</th></tr><tr><td>Ayse Demir</td></tr></table>`
  }
  // Diğer sorular aynı mantıkla devam edebilir
];

let score = 0;
const qDiv = document.getElementById("questions");

questions.forEach((q, i) => {
  const container = document.createElement("div");
  container.innerHTML = `
    <h3>${q.title}</h3>
    <p><strong>Konu:</strong> ${q.explanation}</p>
    <p><strong>Örnek:</strong> <code>${q.example}</code></p>
    <p><strong>Soru:</strong> ${q.question}</p>
    <textarea id="answer-${i}"></textarea>
    <button onclick="checkAnswer(${i})">Cevabı Kontrol Et</button>
    <span id="result-${i}"></span>
    <div id="output-${i}"></div>
    <hr>
  `;
  qDiv.appendChild(container);
});

function checkAnswer(i) {
  const input = document.getElementById(`answer-${i}`).value.trim().toUpperCase();
  const correct = questions[i].answer.trim().toUpperCase();
  const resultSpan = document.getElementById(`result-${i}`);
  const outputDiv = document.getElementById(`output-${i}`);

  if (input === correct) {
    if (!resultSpan.classList.contains('correct')) {
      score++;
      document.getElementById('score').innerText = score;
    }
    resultSpan.innerText = '✔️';
    resultSpan.className = 'correct';
    outputDiv.innerHTML = `<p><strong>✔️ Doğru! Beklenen Sonuç:</strong></p>${questions[i].output}`;
  } else {
    resultSpan.innerText = '❌';
    resultSpan.className = 'wrong';
    outputDiv.innerHTML = '';
  }
}
</script>

</body>
</html>
